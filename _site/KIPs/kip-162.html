<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  
    <title>KIP 162: Priority Fee Mechanism</title>
    <meta property="og:title" content="KIP 162: Priority Fee Mechanism" />
    <meta
      name="description"
      content="Details on Kaia Improvement Proposal 162 (KIP 162): Priority Fee Mechanism"
    />
    <meta
      property="og:description"
      content="Details on Kaia Improvement Proposal 162 (KIP 162): Priority Fee Mechanism"
    />
    <meta name="twitter:description" content="Details on Kaia Improvement Proposal 162 (KIP 162): Priority Fee Mechanism" />
  
  <meta name="generator" content="Jekyll" />
  <meta property="og:locale" content="en_US" />
  <link rel="canonical" href="http://localhost:4000/KIPs/kip-162" />
  <meta property="og:url" content="http://localhost:4000/KIPs/kip-162" />
  <meta property="og:site_name" content="Kaia Improvement Proposals" />
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:site" content="@kaiachain" />
  <script type="application/ld+json">
    {
      "@type": "WebSite",
      "url": "http://localhost:4000",
      "name": "Kaia Improvement Proposals",
      "description": "Kaia Improvement Proposals (KIPs) describe standards for the Kaia platform, including core protocol specifications, client APIs, and contract standards.",
      "@context": "https://schema.org"
    }
  </script>
  <link rel="stylesheet" href="/assets/css/style.css" /><link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="Kaia Improvement Proposals" /></head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/">Kaia Improvement Proposals</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/all">All</a><a class="page-link" href="/core">Core</a><a class="page-link" href="/networking">Networking</a><a class="page-link" href="/storage">Storage</a><a class="page-link" href="/interface">Interface</a><a class="page-link" href="/token">KCT</a><a class="page-link" href="/sdk">SDK</a><a class="page-link" href="/application">Application</a><a class="page-link" href="/meta">Meta</a><a class="page-link" href="/informational">Informational</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <div class="home">
  <h1 class="page-heading">
    KIP 162: Priority Fee Mechanism
    <a href="https://github.com/kaiachain/KIPS/blob/main/KIPs/kip-162.md"><svg role="img" aria-label="Source" xmlns="https://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><title>Source</title><path fill-rule="evenodd" d="M9.5 3L8 4.5 11.5 8 8 11.5 9.5 13 14 8 9.5 3zm-5 0L0 8l4.5 5L6 11.5 2.5 8 6 4.5 4.5 3z"/></svg></a>
  </h1>
  <table>
    <tr><th>Author</th><td><a href="https://github.com/blukat29">Ollie</a>, <a href="https://github.com/2dvorak">Sawyer</a>, <a href="https://github.com/aidan-kwon">Aidan</a></td></tr>
    
      <tr><th>Discussions-To</th><td><a href="https://github.com/klaytn/kips/issues/161">https://github.com/klaytn/kips/issues/161</a></td></tr>
    
    <tr><th>Status</th><td>Draft
    
    </td></tr>
    <tr><th>Type</th><td>Standard Track</td></tr>
    
      <tr><th>Category</th><td>Core</td></tr>
    
    <tr><th>Created</th><td>2024-03-20</td></tr>
    
    
    
    
    
  </table>

  <h1 id="simple-summary">Simple summary</h1>

<p>Priority fee mechanism for transaction type 2 (EthereumDynamicFee) in terms of transaction ordering.</p>

<h1 id="abstract">Abstract</h1>

<p>Activate the priority fee mechanism as defined in the EIP-1559. The maxPriorityFeePerGas field of transaction type 2 is no longer a placeholder, now it represents the priority fee the sender is willing to pay. The transactions are ordered by descending effective gas price, which is usually in the descending priority fee order. Under congested network, high priority transactions can be included to block by declaring high priority fee.</p>

<h1 id="motivation">Motivation</h1>

<p>In Klaytn, the KIP-71 dynamic base fee mechanism and the FCFS (first come first serve) policy had been introduced to alleviate the network stability and usability issue caused by transaction bursts. However, if there are enough transactions that are willing to pay the upper bound base fee (e.g. 750 ston) then the network traffic will stay contested. Under such a condition, senders may experience transaction delay even if they pay the highest fee and send the transactions as soon as possible.</p>

<p>Raising the base fee upper bound is undesirable solution because the users no longer be able to predict or budget their gas fee spendings. Instead, this proposal adds a reliable method for urgent transactions to be included in blocks.</p>

<h1 id="specification">Specification</h1>

<p>The key words “MUST”, “MUST NOT”, “REQUIRED”, “SHALL”, “SHALL NOT”, “SHOULD”, “SHOULD NOT”, “RECOMMENDED”, “MAY”, and “OPTIONAL” in this document are to be interpreted as described in <a href="https://www.ietf.org/rfc/rfc2119.txt">RFC-2119</a>.</p>

<h2 id="block-processing">Block processing</h2>

<h3 id="configuration">Configuration</h3>

<p>The KIP-162 shall be activated since the <code class="language-plaintext highlighter-rouge">DRAGON_FORK_BLOCK_NUMBER</code>.</p>

<table>
  <thead>
    <tr>
      <th>config</th>
      <th>value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MAGMA_FORK_BLOCK_NUMBER</code></td>
      <td>98347376 (testnet), 99841497 (mainnet)</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">DRAGON_FORK_BLOCK_NUMBER</code></td>
      <td>TBD</td>
    </tr>
  </tbody>
</table>

<h3 id="effective-gas-price-and-effective-priority-fee-per-gas">Effective gas price and effective priority fee per gas</h3>

<p>The effective gas price and effective priorirty fee per gas of a transaction at given block are calculated as follows. The effective gas price is the actual price of gas fee paid by the sender. The calculation differs by whether the transaction type is 2 (EIP-1559 EthereumDynamicFee) or not.</p>

<div class="language-py highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">EffectiveGasPrice</span><span class="p">(</span><span class="n">header</span><span class="p">:</span> <span class="n">Header</span><span class="p">,</span> <span class="n">tx</span><span class="p">:</span> <span class="n">Transaction</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">header</span><span class="p">.</span><span class="n">number</span> <span class="o">&gt;=</span> <span class="n">DRAGON_FORK_BLOCK_NUMBER</span><span class="p">:</span>
      <span class="c1"># Transaction type 2 has {maxFeePerGas, maxPriorityFeePerGas} fields
</span>      <span class="c1"># Other transactions only have {gasPrice} field
</span>      <span class="k">if</span> <span class="n">tx</span><span class="p">.</span><span class="nb">type</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
          <span class="n">maxFeePerGas</span> <span class="o">=</span> <span class="n">tx</span><span class="p">.</span><span class="n">maxFeePerGas</span>
          <span class="n">maxPriorityFeePerGas</span> <span class="o">=</span> <span class="n">tx</span><span class="p">.</span><span class="n">maxPriorityFeePerGas</span>
      <span class="k">else</span><span class="p">:</span>
          <span class="c1"># makes EffectiveGasPrice() = tx.gasPrice
</span>          <span class="n">maxFeePerGas</span> <span class="o">=</span> <span class="n">tx</span><span class="p">.</span><span class="n">gasPrice</span>
          <span class="n">maxPriorityFeePerGas</span> <span class="o">=</span> <span class="n">tx</span><span class="p">.</span><span class="n">gasPrice</span>
      <span class="k">return</span> <span class="nb">min</span><span class="p">(</span><span class="n">header</span><span class="p">.</span><span class="n">baseFeePerGas</span> <span class="o">+</span> <span class="n">maxPriorityFeePerGas</span><span class="p">,</span> <span class="n">maxFeePerGas</span><span class="p">)</span>

    <span class="k">elif</span> <span class="n">header</span><span class="p">.</span><span class="n">number</span> <span class="o">&gt;=</span> <span class="n">MAGMA_FORK_BLOCK_NUMBER</span><span class="p">:</span>
      <span class="k">return</span> <span class="n">header</span><span class="p">.</span><span class="n">baseFeePerGas</span>

    <span class="k">else</span><span class="p">:</span>
      <span class="c1"># Note: before Magma hardfork, transactions must satisfy
</span>      <span class="c1"># tx.gasPrice == config.UnitPrice or tx.maxFeePerGas == config.UnitPrice.
</span>      <span class="c1"># Therefore EffectiveGasPrice is essentially config.UnitPrice.
</span>      <span class="k">if</span> <span class="n">tx</span><span class="p">.</span><span class="nb">type</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
          <span class="k">return</span> <span class="n">tx</span><span class="p">.</span><span class="n">maxFeePerGas</span>
      <span class="k">else</span><span class="p">:</span>
          <span class="k">return</span> <span class="n">tx</span><span class="p">.</span><span class="n">gasPrice</span>

<span class="k">def</span> <span class="nf">EffectivePriorityFeePerGas</span><span class="p">(</span><span class="n">header</span><span class="p">:</span> <span class="n">Header</span><span class="p">,</span> <span class="n">tx</span><span class="p">:</span> <span class="n">Transaction</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">header</span><span class="p">.</span><span class="n">number</span> <span class="o">&gt;=</span> <span class="n">DRAGON_FORK_BLOCK_NUMBER</span><span class="p">:</span>
        <span class="n">effectiveGasPrice</span> <span class="o">=</span> <span class="n">EffectiveGasPrice</span><span class="p">(</span><span class="n">header</span><span class="p">,</span> <span class="n">tx</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">effectiveGasPrice</span> <span class="o">-</span> <span class="n">header</span><span class="p">.</span><span class="n">baseFeePerGas</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="mi">0</span>
</code></pre></div></div>

<h3 id="kip-82-reward-scheme">KIP-82 reward scheme</h3>

<p>The <a href="https://github.com/klaytn/kips/blob/main/KIPs/kip-82.md">KIP-82</a> reward scheme is slightly modified. The <code class="language-plaintext highlighter-rouge">get_total_fee</code> now accounts for effective gas price. Otherwise remains the same.</p>

<div class="language-py highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">get_total_fee</span><span class="p">(</span><span class="n">header</span><span class="p">:</span> <span class="n">Header</span><span class="p">,</span> <span class="n">txs</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Transaction</span><span class="p">],</span> <span class="n">receipts</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Receipt</span><span class="p">]):</span>
    <span class="c1"># Note: EffectiveGasPrice handles hardfork
</span>    <span class="n">totalFee</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">txs</span><span class="p">)):</span>
        <span class="n">totalFee</span> <span class="o">+=</span> <span class="n">EffectiveGasPrice</span><span class="p">(</span><span class="n">header</span><span class="p">,</span> <span class="n">txs</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="o">*</span> <span class="n">receipts</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">gasUsed</span>
    <span class="k">return</span> <span class="n">totalFee</span>
</code></pre></div></div>

<h3 id="evm-gasprice-opcode">EVM GASPRICE opcode</h3>

<p>The <code class="language-plaintext highlighter-rouge">GASPRICE</code> (0x3a) opcode returns the effective gas price of the currently executing transaction.</p>

<h2 id="transaction-pool">Transaction pool</h2>

<h3 id="transaction-ordering">Transaction ordering</h3>

<p>Block transaction ordering depends on client implementation as the ordering is not checked by block validators. However, under the KIP-82 reward scheme, a proposer should prioritize high priority fee transactions for the maximum proposer reward.</p>

<p>Block proposers are recommended to order transactions with descending effective gas price, and the same effective gas price are sorted by transaction arrival time. This discourages the transaction spamming where a sender sends many transactions hoping that at least one is included in the block. Instead, the sender would pay a higher priority fee to ensure the transaction be included in the block.</p>

<h3 id="txpool-management">Txpool management</h3>

<p>A transaction pool should not accept underpriced transactions. A transaction is underpriced if its <code class="language-plaintext highlighter-rouge">tx.gasPrice</code> or <code class="language-plaintext highlighter-rouge">tx.maxFeePerGas</code> field is lower than the baseFeePerGas of the pending block.</p>

<h2 id="json-rpc-api">JSON-RPC API</h2>

<h3 id="eth_gasprice-and-klay_gasprice"><code class="language-plaintext highlighter-rouge">eth_gasPrice</code> and <code class="language-plaintext highlighter-rouge">klay_gasPrice</code></h3>

<p>Returns suggested value for <code class="language-plaintext highlighter-rouge">gasPrice</code> or <code class="language-plaintext highlighter-rouge">maxFeePerGas</code> fields of a transaction.</p>

<ul>
  <li>Parameters: none</li>
  <li>Result: Recommended gas price in peb. The result depends on the client implementation.</li>
  <li>Example
    <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl <span class="nv">$RPC_URL</span> <span class="nt">-X</span> POST <span class="nt">-H</span> <span class="s1">'Content-Type: application/json'</span> <span class="nt">--data</span> <span class="s1">'
  {"jsonrpc":"2.0","id":1,"method":"eth_gasPrice","params":[]}'</span>

<span class="o">{</span><span class="s2">"jsonrpc"</span>:<span class="s2">"2.0"</span>,<span class="s2">"id"</span>:1,<span class="s2">"result"</span>:<span class="s2">"0xba43b7400"</span><span class="o">}</span>
</code></pre></div>    </div>
  </li>
</ul>

<h3 id="eth_maxpriorityfeepergas-and-klay_maxpriorityfeepergas"><code class="language-plaintext highlighter-rouge">eth_maxPriorityFeePerGas</code> and <code class="language-plaintext highlighter-rouge">klay_maxPriorityFeePerGas</code></h3>

<p>Returns suggested value for <code class="language-plaintext highlighter-rouge">gasPrice</code> or <code class="language-plaintext highlighter-rouge">maxFeePerGas</code> fields of a transaction.</p>

<ul>
  <li>Parameters: none</li>
  <li>Result: Recommended priority fee per gas in peb. The result depends on the client implementation.</li>
  <li>Example
    <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl <span class="nv">$RPC_URL</span> <span class="nt">-X</span> POST <span class="nt">-H</span> <span class="s1">'Content-Type: application/json'</span> <span class="nt">--data</span> <span class="s1">'
  {"jsonrpc":"2.0","id":1,"method":"eth_maxPriorityFeePerGas","params":[]}'</span>

<span class="o">{</span><span class="s2">"jsonrpc"</span>:<span class="s2">"2.0"</span>,<span class="s2">"id"</span>:1,<span class="s2">"result"</span>:<span class="s2">"0x3b9aca00"</span><span class="o">}</span>
</code></pre></div>    </div>
  </li>
</ul>

<h3 id="eth_feehistory-and-klay_feehistory"><code class="language-plaintext highlighter-rouge">eth_feeHistory</code> and <code class="language-plaintext highlighter-rouge">klay_feeHistory</code></h3>

<p>Returns historical gas information for a range of blocks.</p>

<ul>
  <li>Parameters
    <ul>
      <li><code class="language-plaintext highlighter-rouge">blockCount</code> - Number of blocks in the requested range.</li>
      <li><code class="language-plaintext highlighter-rouge">newestBlock</code> - Highest block of the requested range. Can be a number or “latest”.</li>
      <li><code class="language-plaintext highlighter-rouge">rewardPercentiles</code> - (optional) A monotonically increasing list of percentile (between 0 and 100) values. For each block in the requested range, the transactions will be sorted in ascending order by effective tip per gas and sampled at the specified percentiles.</li>
    </ul>
  </li>
  <li>Result
    <ul>
      <li><code class="language-plaintext highlighter-rouge">oldestBlock</code> - Lowest number block of returned range.</li>
      <li><code class="language-plaintext highlighter-rouge">baseFeePerGas</code> - An array of block base fee per gas. This includes the next block after the newest of the returned range, because this value can be derived from the newest block. Zeroes are returned for pre-Magma blocks.</li>
      <li><code class="language-plaintext highlighter-rouge">gasUsedRatio</code> - An array of block gas used ratios. Measures the network congestion level. These are calculated as the ratio of block gas used and <a href="https://github.com/klaytn/kips/blob/main/KIPs/kip-71.md">KIP-71 MAX_BLOCK_GAS_USED_FOR_BASE_FEE</a>. If the ratio is above 1, then 1 is returned.</li>
      <li><code class="language-plaintext highlighter-rouge">reward</code> - (optional) A 2D array of effective priority fees per gas. <code class="language-plaintext highlighter-rouge">reward[n][i]</code> is the <code class="language-plaintext highlighter-rouge">rewardPercentiles[i]</code>-th percentile effective priority fees per gas among the transactions in the block <code class="language-plaintext highlighter-rouge">oldestBlock + n</code>. Only returned if <code class="language-plaintext highlighter-rouge">rewardPercentiles</code> is specified.</li>
    </ul>
  </li>
  <li>Example
    <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl <span class="nv">$RPC_URL</span> <span class="nt">-X</span> POST <span class="nt">-H</span> <span class="s1">'Content-Type: application/json'</span> <span class="nt">--data</span> <span class="s1">'
  {"jsonrpc":"2.0","id":1,"method":"eth_feeHistory","params":[
    4,
    "latest",
    [50.0, 90.0, 95.0]
  ]}'</span>

<span class="o">{</span>
  <span class="s2">"id"</span>: <span class="s2">"1"</span>,
  <span class="s2">"jsonrpc"</span>: <span class="s2">"2.0"</span>,
  <span class="s2">"result"</span>: <span class="o">{</span>
    <span class="s2">"oldestBlock"</span>: <span class="s2">"0x8e0a025"</span>,
    <span class="s2">"baseFeePerGas"</span>: <span class="o">[</span><span class="s2">"0x5d21dba00"</span>, <span class="s2">"0x5d21dba00"</span>, <span class="s2">"0x5d21dba00"</span>, <span class="s2">"0x61c9f3680"</span><span class="o">]</span>,
    <span class="s2">"gasUsedRatio"</span>: <span class="o">[</span>0.023, 0.31, 1.0, 0.88],
    <span class="s2">"reward"</span>: <span class="o">[</span>
      <span class="o">[</span><span class="s2">"0x3b9aca00"</span>, <span class="s2">"0x3b9aca00"</span>, <span class="s2">"0x9502f900"</span><span class="o">]</span>,
      <span class="o">[</span><span class="s2">"0x3b9aca00"</span>, <span class="s2">"0x3b9aca00"</span>, <span class="s2">"0x9502f900"</span><span class="o">]</span>,
      <span class="o">[</span><span class="s2">"0x3b9aca00"</span>, <span class="s2">"0x9502f900"</span>, <span class="s2">"0x2e90edd00"</span><span class="o">]</span>,
      <span class="o">[</span><span class="s2">"0x3b9aca00"</span>, <span class="s2">"0x9502f900"</span>, <span class="s2">"0x30e4f9b40"</span><span class="o">]</span>,
    <span class="o">]</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre></div>    </div>
  </li>
</ul>

<h1 id="rationale">Rationale</h1>

<h2 id="a-kip-71-parameter-is-used-in-place-of-block-gas-limit">A KIP-71 parameter is used in place of block gas limit</h2>

<p>The Ethereum’s <code class="language-plaintext highlighter-rouge">eth_feeHistory</code> calculates gasUsedRatio as <code class="language-plaintext highlighter-rouge">block.gasUsed/blockGasLimit</code>. But Klaytn does not have hard limit of block gas. Instead, Klaytn’s MAX_BLOCK_GAS_USED_FOR_BASE_FEE is analogous to Ethereum’s block gas limit.</p>

<p>In Ethereum, block gas limit is 30,000,000 and the base fee starts to rise when the block gas used exceeds 15,000,000 (<code class="language-plaintext highlighter-rouge">block.gasLimit / ELASTICITY_MULTIPLIER</code>). Similartly, the Klaytn’s initial KIP-71 parameters stipulates that the block gas used is only accounted until 60,000,000 for the purpose of base fee calculation (<code class="language-plaintext highlighter-rouge">MAX_BLOCK_GAS_USED_FOR_BASE_FEE</code>), and the base fee starts to rise when the block gas used exceeds 30,000,000 (<code class="language-plaintext highlighter-rouge">GAS_TARGET</code>).</p>

<h1 id="backward-compatibility">Backward compatibility</h1>

<h2 id="continued-use-of-other-transaction-types">Continued use of other transaction types</h2>

<p>Legacy (type 0) transactions, EIP-2930 AccessList (type 1) transactions, and Klaytn transaction types (types 8+) will work and be included in blocks. Those transactions have <code class="language-plaintext highlighter-rouge">gasPrice</code> field but no <code class="language-plaintext highlighter-rouge">maxFeePerGas</code> nor <code class="language-plaintext highlighter-rouge">maxPriorityFeePerGas</code> fields. For those transaction types, their effective gas price is considered to equal to the <code class="language-plaintext highlighter-rouge">gasPrice</code>. The senders pay the full price as declared in the <code class="language-plaintext highlighter-rouge">gasPrice</code>. This policy is identical to <a href="https://github.com/ethereum/EIPs/blob/master/EIPS/eip-1559.md">EIP-1559</a> and the same as pre-1559 auction market. In this manner, those transaction types pay a nonzero priority fee.</p>

<table>
  <thead>
    <tr>
      <th>baseFeePerGas</th>
      <th>transaction</th>
      <th>effectiveGasPrice</th>
      <th>effectivePriorityFeePerGas</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>25</td>
      <td>{type: 0, gasPrice: 26}</td>
      <td>26</td>
      <td>1</td>
    </tr>
    <tr>
      <td>25</td>
      <td>{type: 2, maxFeePerGas: 51, maxPriorityFeePerGas: 1}</td>
      <td>26</td>
      <td>1</td>
    </tr>
  </tbody>
</table>

<h2 id="evm-opcodes">EVM opcodes</h2>

<p>The <code class="language-plaintext highlighter-rouge">GASPRICE</code> (0x3a) opcode is backwards compatible because it had been correctly returning the effective gas price before <code class="language-plaintext highlighter-rouge">DRAGON_FORK_BLOCK_NUMBER</code>. The <code class="language-plaintext highlighter-rouge">BASEFEE</code> (0x48) opcode remains the same; returns the base fee per gas of the currently executing block.</p>

<h1 id="references">References</h1>

<ul>
  <li>https://github.com/klaytn/kips/blob/main/KIPs/kip-71.md</li>
  <li>https://github.com/ethereum/EIPs/blob/master/EIPS/eip-1559.md</li>
  <li>https://github.com/ethereum/execution-apis/blob/main/src/eth/fee_market.yaml</li>
</ul>


  <script src="https://cdnjs.cloudflare.com/ajax/libs/mermaid/10.2.3/mermaid.min.js" integrity="sha512-M4zmdILgXOwrBEVfpVqdO/jC3BJZQzlXHeu967v41/QoT60sESWSLbi7YwntTbYC0ZjewfTbvXO8iKj7amvQow==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script>
  mermaid.initialize({
    startOnLoad: true,
  });
  mermaid.run({
    querySelector: '.language-mermaid', // markdown 'mermaid' language code blocks
  });
</script>


</div>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">Kaia Improvement Proposals</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Kaia Improvement Proposals</li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/kaiachain/KIPs"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">kaiachain/KIPs</span></a></li><li><a href="https://twitter.com/kaiachain"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#twitter"></use></svg> <span class="username">kaiachain</span></a></li><li><a href="https://www.facebook.com/kaiachain"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#facebook"></use></svg> <span class="username">kaiachain</span></a></li><li><a href="https://medium.com/kaiachain"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#medium"></use></svg> <span class="username">kaiachain</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>Kaia Improvement Proposals (KIPs) describe standards for the Kaia platform, including core protocol specifications, client APIs, and contract standards.</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
